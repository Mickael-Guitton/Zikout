<h2><%= @user.name %></h2>
<h4><%= @user.city %></h4>
<% if @user.styles && @user.act? %>
  <% if @user.styles.size == 1 %>
    <h6> Style : <%= @user.styles.first %></h6>
  <% else %>
    <h6> Styles : <%= @user.styles.join(", ") %></h6>
  <% end %>
<% end %>
<% if @user.members && @user.act? %>
  <ul>
    <% @user.members.each do |m| %>
      <li> <%= m[:nom] %> : <%= m[:instrument] %> </li>
    <% end %>
  </ul>
<% end %>
<% if current_user == @user && @user.role == "act" %>
  <button type="button" class="button-custom" data-bs-toggle="modal" data-bs-target="#memberModal">
          Ajouter Membre
        </button>
<% end %>
 <div class="modal fade" id="memberModal" tabindex="-1" aria-labelledby="memberModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h2 class="modal-title fs-5"><strong>Ajouter Membre</strong></h2>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <%= form_with(model: [@user, @member], url: user_members_path(@user), method: :post) do |f| %>
              <div class="form-group">
                <%= f.label :nickname, "Nom du membre" %>
                <%= f.text_field :nickname, class: "form-control" %>
              </div>
              <div class="form-group">
                <%= f.label :instrument, "Instrument(s)" %>
                <%= f.text_field :instrument, class: "form-control" %>
              </div>
              <%= f.submit "Ajouter", class: "button-custom" %>
            <% end %>

          </div>
          <div class="modal-footer">
            <button type="button" class="closing-button" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

<h6> Socials</h6>
<ul>
  <li>Facebook : </li>
  <li>Instagram : </li>
  <li>Twitter : </li>
</ul>
<% if @user != current_user %>
  <p>Contact : <%= @user.email %> </p>
<% end %>
